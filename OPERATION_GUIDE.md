# Minimi Trading Bot - í”„ë¡œê·¸ë¨ êµ¬ë™ ê°€ì´ë“œ

## ğŸš€ ë¹ ë¥¸ ì‹œì‘

### 1ë‹¨ê³„: í™˜ê²½ ì„¤ì • (ìµœì´ˆ 1íšŒ)

```bash
# 1. í”„ë¡œì íŠ¸ ë””ë ‰í† ë¦¬ë¡œ ì´ë™
cd /home/user/webapp

# 2. ì˜ì¡´ì„± ì„¤ì¹˜
pip install -r requirements.txt schedule flask

# 3. .env íŒŒì¼ ìƒì„±
cat > .env << 'EOF'
# ì—…ë¹„íŠ¸ API í‚¤ (test_upbit_api.pyë¡œ ë°œê¸‰ í›„ ì…ë ¥)
UPBIT_ACCESS_KEY=your_access_key_here
UPBIT_SECRET_KEY=your_secret_key_here

# ê±°ë˜ ëª¨ë“œ (paper: ëª¨ì˜íˆ¬ì, real: ì‹¤ì „íˆ¬ì)
TRADE_MODE=paper

# ê±°ë˜ ì„¤ì •
TICKER=KRW-BTC
RSI_PERIOD=14
TRADE_AMOUNT_KRW=10000.0

# ì†ì ˆ/ìµì ˆ (ìµœì í™”ëœ v1.1-tight-tp ì „ëµ)
STOP_LOSS_PCT=0.02
TAKE_PROFIT_PCT=0.01

# í˜ì´í¼ íŠ¸ë ˆì´ë”©
PAPER_INITIAL_KRW=1000000.0
PAPER_STATE_FILE=paper_account.json

# ë¡œê·¸
LOG_FILE=trades.log

# ìº”ë“¤ ê°„ê²©
CANDLE_INTERVAL=minute5

# ë¦¬ìŠ¤í¬ ê´€ë¦¬
MAX_INVEST_RATIO=0.30
DAILY_LOSS_LIMIT_PCT=0.05
EOF

# 4. ì—…ë¹„íŠ¸ API ì—°ê²° í…ŒìŠ¤íŠ¸
python test_upbit_api.py
```

---

### 2ë‹¨ê³„: í”„ë¡œê·¸ë¨ ì‹¤í–‰ ë°©ë²•

#### ë°©ë²• A: í†µí•© ì‹¤í–‰ ìŠ¤í¬ë¦½íŠ¸ (ì¶”ì²œ)
```bash
# ëŒ€ì‹œë³´ë“œ + ìë™ ìŠ¤ì¼€ì¤„ëŸ¬ ë™ì‹œ ì‹¤í–‰
./start_bot.sh

# ë˜ëŠ”
bash start_bot.sh
```

**ì‹¤í–‰ ê²°ê³¼**:
- ğŸŒ ëŒ€ì‹œë³´ë“œ: http://localhost:5000
- â±ï¸ 5ë¶„ë§ˆë‹¤ ìë™ ë§¤ë§¤ ì‹¤í–‰
- ğŸ“Š ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§ ê°€ëŠ¥

**ì¤‘ì§€**: `Ctrl + C`

---

#### ë°©ë²• B: ê°œë³„ ì‹¤í–‰

##### B-1. ëŒ€ì‹œë³´ë“œë§Œ ì‹¤í–‰
```bash
python dashboard.py

# ë¸Œë¼ìš°ì €ì—ì„œ ì ‘ì†
# http://localhost:5000
```

##### B-2. 1íšŒ ë§¤ë§¤ ì‹¤í–‰
```bash
python main.py
```

##### B-3. ìë™ ìŠ¤ì¼€ì¤„ëŸ¬ ì‹¤í–‰
```bash
python scheduler.py
```

---

### 3ë‹¨ê³„: ëª¨ì˜ íˆ¬ì ëª¨ë‹ˆí„°ë§

#### ì‹¤ì‹œê°„ ëŒ€ì‹œë³´ë“œ í™•ì¸
```
ë¸Œë¼ìš°ì €ì—ì„œ http://localhost:5000 ì ‘ì†

í™”ë©´ êµ¬ì„±:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Header: ëª¨ë“œ, í‹°ì»¤, ì „ëµ ì„¤ì •                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Cards: ì´ ìì‚°, ìˆ˜ìµë¥ , ìŠ¹ë¥ , KRW ì”ê³         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Chart: ì‹¤ì‹œê°„ ê°€ê²© & RSI ì°¨íŠ¸                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Table: ìµœê·¼ ê±°ë˜ ë‚´ì—­ (20ê±´)                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â±ï¸ ìë™ ê°±ì‹ :
- ìƒíƒœ: 5ì´ˆë§ˆë‹¤
- ì°¨íŠ¸: 30ì´ˆë§ˆë‹¤
- ê±°ë˜: 10ì´ˆë§ˆë‹¤
```

#### ë¡œê·¸ íŒŒì¼ í™•ì¸
```bash
# ê±°ë˜ ë¡œê·¸
tail -f trades.log

# ìŠ¤ì¼€ì¤„ëŸ¬ ë¡œê·¸
tail -f scheduler.log

# ëŒ€ì‹œë³´ë“œ ë¡œê·¸
tail -f dashboard.log
```

---

## ğŸ“Š ê²°ê³¼ í™•ì¸ ë°©ë²•

### 1. ì‹¤ì‹œê°„ ëŒ€ì‹œë³´ë“œ

#### ë©”ì¸ ì§€í‘œ
```
ğŸ’° Total Equity: 1,023,400ì›
   ì´ˆê¸°: 1,000,000ì›

ğŸ“ˆ Profit/Loss: +23,400ì›
   ìˆ˜ìµë¥ : +2.34%

ğŸ¯ Win Rate: 86.5%
   23ìŠ¹ 4íŒ¨ (27ê±°ë˜)

ğŸ’µ KRW Balance: 950,000ì›
   Coin: 73,400ì› (0.00054321 BTC)
```

#### ì‹¤ì‹œê°„ ì°¨íŠ¸
- ğŸ“Š ê°€ê²© ì°¨íŠ¸ (íŒŒë€ìƒ‰ ì„ )
- ğŸ“‰ RSI ì§€í‘œ (ë¹¨ê°„ìƒ‰ ì„ )
- ğŸ”´ ê³¼ë§¤ìˆ˜ êµ¬ê°„ (70 ì´ìƒ)
- ğŸŸ¢ ê³¼ë§¤ë„ êµ¬ê°„ (30 ì´í•˜)

#### ê±°ë˜ ë‚´ì—­
```
ì‹œê°„       | ì‹ í˜¸ | ìƒíƒœ   | ìƒì„¸
-----------|------|--------|------------------
15:30:22   | SELL | filled | Price: 135,500ì›, ...
15:25:10   | BUY  | filled | Price: 134,200ì›, ...
```

---

### 2. í„°ë¯¸ë„ ì¶œë ¥

```bash
# main.py ì‹¤í–‰ ê²°ê³¼
================================================================================
Start run | mode=paper ticker=KRW-BTC
================================================================================
Signal=buy RSI=28.50 Price=134200.00
Paper start: {'krw_balance': 1000000.0, 'coin_amount': 0.0, 'avg_buy_price': 0.0}
Paper result: {'status': 'filled', 'side': 'buy', 'price': 134200.0, ...}
Paper end: {'krw_balance': 990000.0, 'coin_amount': 0.00007455, ...}
```

---

### 3. ì¼ì¼ ë¦¬í¬íŠ¸

```bash
# ë¦¬í¬íŠ¸ ìƒì„±
python report.py

# ì¶œë ¥ ì˜ˆì‹œ
Backtest Report
================
Cumulative Return: +2.34%
MDD: -0.85%
Win Rate: 86.50%
Risk/Reward: 1.02
Trade Count: 27
Average Holding Time: 2h 15m
Total Fees: 2,350.00

Main Reasons for Underperformance
- (ì—†ìŒ - ìˆ˜ìµ ì¤‘)
```

---

### 4. CSV ë°ì´í„° í™•ì¸

```bash
# ê±°ë˜ ë‚´ì—­ CSV
cat trades.csv

# ì¶œë ¥
time,signal,price,qty,fee,balance,position,pnl
2026-01-06 15:30:22,buy,134200.0,0.00007455,5.0,990000.0,0.00007455,0.00
2026-01-06 15:35:10,sell,135500.0,0.00007455,5.06,1000494.94,0.0,494.94
```

---

## ğŸ–¥ï¸ ëŒ€ì‹œë³´ë“œ í™”ë©´ êµ¬ì„±

### ë©”ì¸ í™”ë©´ (/)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ¤– Minimi Trading Bot Dashboard                        â”‚
â”‚  ğŸ“ Paper Trading | KRW-BTC | SL: 2% | TP: 1% | RSI: 14 â”‚
â”‚  â±ï¸ Auto-refresh every 5s                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ğŸ’° 1,023,400â”‚ â”‚ğŸ“ˆ +23,400  â”‚ â”‚ğŸ¯ 86.5%    â”‚ â”‚ğŸ’µ 950Kâ”‚ â”‚
â”‚  â”‚   Total    â”‚ â”‚  Profit    â”‚ â”‚  Win Rate  â”‚ â”‚  KRW â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“Š Price & RSI Chart                   [ğŸ”„ Refresh]    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚         140,000 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€              â”‚  â”‚
â”‚  â”‚         135,000 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•±â”€â”€â”€â”€â”€                  â”‚  â”‚
â”‚  â”‚  Price: 130,000 â”€â”€â”€â”€â•±â”€â”€â”€â”€                         â”‚  â”‚
â”‚  â”‚                                                    â”‚  â”‚
â”‚  â”‚  RSI:       70 â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• ê³¼ë§¤ìˆ˜              â”‚  â”‚
â”‚  â”‚             50 â”€â”€â”€â”€â”€â”€â”€â”€â•±â•²â”€â”€â”€â”€â”€â”€                   â”‚  â”‚
â”‚  â”‚             30 â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• ê³¼ë§¤ë„              â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“œ Recent Trades                       [ğŸ”„ Refresh]    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Time       Signal  Status  Details               â”‚  â”‚
â”‚  â”‚ 15:30:22   SELL    filled  Price: 135,500ì›, ... â”‚  â”‚
â”‚  â”‚ 15:25:10   BUY     filled  Price: 134,200ì›, ... â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### API ì—”ë“œí¬ì¸íŠ¸
- `GET /`: ë©”ì¸ ëŒ€ì‹œë³´ë“œ
- `GET /api/status`: í˜„ì¬ ìƒíƒœ
- `GET /api/trades`: ê±°ë˜ ë‚´ì—­
- `GET /api/chart`: ì°¨íŠ¸ ë°ì´í„°
- `GET /api/report`: í†µê³„ ë¦¬í¬íŠ¸

---

## ğŸ”„ ìë™í™” ì˜µì…˜

### Cron ì„¤ì • (Linux/Mac)
```bash
# crontab í¸ì§‘
crontab -e

# 5ë¶„ë§ˆë‹¤ ì‹¤í–‰
*/5 * * * * cd /home/user/webapp && python main.py >> logs/cron.log 2>&1

# ë§¤ì¼ ìì • ë¦¬í¬íŠ¸ ìƒì„±
0 0 * * * cd /home/user/webapp && python report.py > logs/daily_report.txt
```

### Systemd ì„œë¹„ìŠ¤ (Linux)
```bash
# ì„œë¹„ìŠ¤ íŒŒì¼ ìƒì„±
sudo nano /etc/systemd/system/minimi-bot.service

# ë‚´ìš©
[Unit]
Description=Minimi Trading Bot
After=network.target

[Service]
Type=simple
User=user
WorkingDirectory=/home/user/webapp
ExecStart=/usr/bin/python3 /home/user/webapp/scheduler.py
Restart=always

[Install]
WantedBy=multi-user.target

# í™œì„±í™”
sudo systemctl enable minimi-bot
sudo systemctl start minimi-bot
sudo systemctl status minimi-bot
```

---

## ğŸ“± ëª¨ë°”ì¼ ì ‘ì†

### ë¡œì»¬ ë„¤íŠ¸ì›Œí¬ì—ì„œ ì ‘ì†
```bash
# ì„œë²„ IP í™•ì¸
hostname -I

# ë¸Œë¼ìš°ì €ì—ì„œ ì ‘ì†
http://192.168.x.x:5000
```

### í¬íŠ¸ í¬ì›Œë”© (ê³µì¸ IP)
```bash
# dashboard.py ìˆ˜ì •
app.run(host='0.0.0.0', port=5000)

# ê³µì¸ IPë¡œ ì ‘ì† (ë³´ì•ˆ ì£¼ì˜!)
http://your-public-ip:5000
```

---

## ğŸ›‘ í”„ë¡œê·¸ë¨ ì¤‘ì§€

### ë°©ë²• 1: í‚¤ë³´ë“œ ì¸í„°ëŸ½íŠ¸
```bash
# í„°ë¯¸ë„ì—ì„œ ì‹¤í–‰ ì¤‘ì¼ ë•Œ
Ctrl + C
```

### ë°©ë²• 2: í”„ë¡œì„¸ìŠ¤ ì¢…ë£Œ
```bash
# ì‹¤í–‰ ì¤‘ì¸ í”„ë¡œì„¸ìŠ¤ í™•ì¸
ps aux | grep python

# PIDë¡œ ì¢…ë£Œ
kill <PID>

# ë˜ëŠ” ê°•ì œ ì¢…ë£Œ
killall python
```

### ë°©ë²• 3: ì„œë¹„ìŠ¤ ì¤‘ì§€
```bash
# Systemd ì„œë¹„ìŠ¤
sudo systemctl stop minimi-bot
```

---

## âš ï¸ ì£¼ì˜ì‚¬í•­

### ëª¨ì˜ íˆ¬ì (Paper Trading)
- âœ… ì‹¤ì œ ëˆ ì‚¬ìš© ì•ˆ í•¨
- âœ… ì•ˆì „í•˜ê²Œ í…ŒìŠ¤íŠ¸ ê°€ëŠ¥
- âœ… ìµœì†Œ 1ì£¼ì¼ ê²€ì¦ ê¶Œì¥

### ì‹¤ì „ íˆ¬ì (Real Trading)
- âš ï¸ ì‹¤ì œ ëˆ íˆ¬ì
- âš ï¸ ì†ì‹¤ ê°€ëŠ¥ì„± ìˆìŒ
- âš ï¸ ì†Œì•¡(1ë§Œì›)ë¶€í„° ì‹œì‘
- âš ï¸ ì¶©ë¶„í•œ ëª¨ì˜ íˆ¬ì ê²€ì¦ í›„

---

ìƒì„±ì¼: 2026-01-06
